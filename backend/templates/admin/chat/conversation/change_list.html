{% extends "admin/change_list.html" %}

{% block extrahead %}
{{ block.super }}
<script type="text/javascript">
document.addEventListener('DOMContentLoaded', function() {
    // Improve action select placeholder
    const actionSelect = document.querySelector('select[name="action"]');
    if (actionSelect) {
        const firstOption = actionSelect.querySelector('option[value=""]');
        if (firstOption && firstOption.textContent.trim() === '---------') {
            firstOption.textContent = 'Choose an action';
        }
    }
    
    // Simple progress indication for analysis actions
    const actionForm = document.querySelector('#changelist-action-form');
    if (actionForm) {
        actionForm.addEventListener('submit', function(e) {
            const selectedAction = actionSelect ? actionSelect.value : '';
            if (selectedAction === 'analyze_with_langextract' || selectedAction === 'bulk_analyze_langextract') {
                // Show simple loading message
                const submitButton = actionForm.querySelector('button[type="submit"]');
                if (submitButton) {
                    submitButton.textContent = 'Processing...';
                    submitButton.disabled = true;
                }
            }
        });
    }
});
</script>
{% endblock %}